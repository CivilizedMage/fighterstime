<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- Definición de estilos -->
  <defs>
    <style>
      .entity-box { fill: #E3F2FD; stroke: #1976D2; stroke-width: 2; }
      .attribute-box { fill: #F3E5F5; stroke: #7B1FA2; stroke-width: 1; }
      .relationship-diamond { fill: #FFF3E0; stroke: #F57C00; stroke-width: 2; }
      .text-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .text-attribute { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .text-relationship { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .primary-key { text-decoration: underline; font-weight: bold; }
      .foreign-key { font-style: italic; }
      .connection-line { stroke: #333; stroke-width: 1.5; fill: none; }
    </style>
  </defs>
  
  <!-- Título del Diagrama -->
  <text x="400" y="30" class="text-title" style="font-size: 18px;">
    Modelo Entidad-Relación - FightersTime Database
  </text>
  
  <!-- Entidad: USUARIOS -->
  <g id="entidad-usuarios">
    <rect x="50" y="80" width="180" height="140" class="entity-box" />
    <text x="140" y="100" class="text-title">USUARIOS</text>
    
    <!-- Atributos de USUARIOS -->
    <text x="140" y="120" class="text-attribute primary-key">user_id (PK)</text>
    <text x="140" y="135" class="text-attribute">email</text>
    <text x="140" y="150" class="text-attribute">username</text>
    <text x="140" y="165" class="text-attribute">created_at</text>
    <text x="140" y="180" class="text-attribute">last_login</text>
    <text x="140" y="195" class="text-attribute">is_active</text>
  </g>
  
  <!-- Entidad: PERSONAJES -->
  <g id="entidad-personajes">
    <rect x="350" y="80" width="200" height="180" class="entity-box" />
    <text x="450" y="100" class="text-title">PERSONAJES</text>
    
    <!-- Atributos de PERSONAJES -->
    <text x="450" y="120" class="text-attribute primary-key">personaje_id (PK)</text>
    <text x="450" y="135" class="text-attribute foreign-key">user_id (FK)</text>
    <text x="450" y="150" class="text-attribute">nombre</text>
    <text x="450" y="165" class="text-attribute">clase</text>
    <text x="450" y="180" class="text-attribute">nivel</text>
    <text x="450" y="195" class="text-attribute">vida_maxima</text>
    <text x="450" y="210" class="text-attribute">vida_actual</text>
    <text x="450" y="225" class="text-attribute">ataque</text>
    <text x="450" y="240" class="text-attribute">defensa</text>
    <text x="450" y="255" class="text-attribute">experiencia</text>
  </g>
  
  <!-- Entidad: COMBATES -->
  <g id="entidad-combates">
    <rect x="100" y="350" width="220" height="180" class="entity-box" />
    <text x="210" y="370" class="text-title">COMBATES</text>
    
    <!-- Atributos de COMBATES -->
    <text x="210" y="390" class="text-attribute primary-key">combate_id (PK)</text>
    <text x="210" y="405" class="text-attribute foreign-key">personaje_id (FK)</text>
    <text x="210" y="420" class="text-attribute">enemigo_nombre</text>
    <text x="210" y="435" class="text-attribute">enemigo_nivel</text>
    <text x="210" y="450" class="text-attribute">enemigo_tipo</text>
    <text x="210" y="465" class="text-attribute">resultado</text>
    <text x="210" y="480" class="text-attribute">experiencia_ganada</text>
    <text x="210" y="495" class="text-attribute">duracion_turnos</text>
    <text x="210" y="510" class="text-attribute">fecha_combate</text>
  </g>
  
  <!-- Entidad: CONFIGURACIONES -->
  <g id="entidad-configuraciones">
    <rect x="450" y="350" width="200" height="140" class="entity-box" />
    <text x="550" y="370" class="text-title">CONFIGURACIONES</text>
    
    <!-- Atributos de CONFIGURACIONES -->
    <text x="550" y="390" class="text-attribute primary-key">config_id (PK)</text>
    <text x="550" y="405" class="text-attribute foreign-key">user_id (FK)</text>
    <text x="550" y="420" class="text-attribute">clave</text>
    <text x="550" y="435" class="text-attribute">valor</text>
    <text x="550" y="450" class="text-attribute">descripcion</text>
    <text x="550" y="465" class="text-attribute">fecha_modificacion</text>
  </g>
  
  <!-- Relación: USUARIOS - PERSONAJES -->
  <g id="relacion-usuario-personaje">
    <polygon points="270,150 300,130 330,150 300,170" class="relationship-diamond" />
    <text x="300" y="155" class="text-relationship">POSEE</text>
    
    <!-- Líneas de conexión -->
    <line x1="230" y1="150" x2="270" y2="150" class="connection-line" />
    <line x1="330" y1="150" x2="350" y2="150" class="connection-line" />
    
    <!-- Cardinalidad -->
    <text x="250" y="145" class="text-attribute">1</text>
    <text x="340" y="145" class="text-attribute">N</text>
  </g>
  
  <!-- Relación: PERSONAJES - COMBATES -->
  <g id="relacion-personaje-combate">
    <polygon points="380,290 410,270 440,290 410,310" class="relationship-diamond" />
    <text x="410" y="295" class="text-relationship">PARTICIPA</text>
    
    <!-- Líneas de conexión -->
    <line x1="410" y1="260" x2="410" y2="270" class="connection-line" />
    <line x1="410" y1="310" x2="290" y2="350" class="connection-line" />
    
    <!-- Cardinalidad -->
    <text x="415" y="265" class="text-attribute">1</text>
    <text x="300" y="345" class="text-attribute">N</text>
  </g>
  
  <!-- Relación: USUARIOS - CONFIGURACIONES -->
  <g id="relacion-usuario-configuracion">
    <polygon points="320,390 350,370 380,390 350,410" class="relationship-diamond" />
    <text x="350" y="395" class="text-relationship">CONFIGURA</text>
    
    <!-- Líneas de conexión -->
    <line x1="230" y1="220" x2="230" y2="320" class="connection-line" />
    <line x1="230" y1="320" x2="320" y2="390" class="connection-line" />
    <line x1="380" y1="390" x2="450" y2="390" class="connection-line" />
    
    <!-- Cardinalidad -->
    <text x="235" y="240" class="text-attribute">1</text>
    <text x="440" y="385" class="text-attribute">N</text>
  </g>
  
  <!-- Leyenda -->
  <g id="leyenda">
    <rect x="580" y="500" width="200" height="80" style="fill: white; stroke: #333; stroke-width: 1;" />
    <text x="680" y="520" class="text-title">LEYENDA</text>
    <text x="590" y="540" class="text-attribute primary-key">Clave Primaria (PK)</text>
    <text x="590" y="555" class="text-attribute foreign-key">Clave Foránea (FK)</text>
    <text x="590" y="570" class="text-attribute">Atributo Normal</text>
  </g>
  
  <!-- Información del diagrama -->
  <g id="info-diagrama">
    <text x="50" y="570" class="text-attribute">Responsable: Juan Beleño</text>
    <text x="50" y="585" class="text-attribute">Fecha: Septiembre 2025</text>
  </g>
</svg>
